@@include('../../inc/top.html')
<body>
<div id="wrap">
  @@include('../../inc/header.html')
  <div class="con_wrap">
    @@include('../../inc/iot/lnb.html')
    <main class="contents">
      <header class="tit blind">
        <h1>통합상황판</h1>
        <div class="tool">
        
        </div>
      </header>
      <div class="content integrated">
        <div class="iot_area">
          <div class="tab box_tab">
            <ul class="tab_list">
              <li><a href="#tab01" class="on">관측현황</a></li>
              <li><a href="#tab02">장비상태</a></li>
            </ul>
            <div class="tool">
              <div class="tgl_viewType">
                <label class="tgl_viewType" for="monitoring_lst"><input type="checkbox" id="monitoring_lst">보기형식 변경</label>
              </div>
            </div>
          </div>
          <div class="tab_conts">
            <section id="tab01" class="tab_cont flex_vertical">
              <section class="rainGauge">
                <header class="tit">
                  <h1>강우 관측 현황</h1>
                  <div class="tool">
                    <ul class="risk_filter">
                      <li><label for=""><input type="checkbox" class="all" checked>전체<strong>22</strong></label></li>
                      <li><label for=""><input type="checkbox" checked>경계<strong>3</strong></label></li>
                      <li><label for=""><input type="checkbox" checked>심각<strong>4</strong></label></li>
                    </ul>
                    <b class="unit">강우</b>
                    <select name="" id=""><option value="">시간</option></select>
                  </div>
                </header>
                <ul class="iot_lst">
                  <li class="lv1">
                    <strong>수도 2우량수도 2우량수도 2우</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="lv2">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li>
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li>
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                  <li>
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li>
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                  <li>
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li>
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                </ul>
              </section>
              <section class="waterGauge">
                <header class="tit">
                  <h1>수위 관측 현황</h1>
                  <div class="tool">
                    <ul class="risk_filter">
                      <li><label for=""><input type="checkbox" class="all" checked>전체<strong>22</strong></label></li>
                      <li><label for=""><input type="checkbox" checked>경계<strong>3</strong></label></li>
                      <li><label for=""><input type="checkbox" checked>심각<strong>4</strong></label></li>
                    </ul>
                    <b class="unit">최대수위</b>
                    <select name="" id=""><option value="">시간</option></select>
                  </div>
                </header>
                <ul class="iot_lst">
                  <li>
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                </ul>
              </section>
              <section class="snowGauge">
                <header class="tit">
                  <h1>적설 관측 현황</h1>
                  <div class="tool">
                    <ul class="risk_filter">
                      <li><label for=""><input type="checkbox" class="all" checked>전체<strong>22</strong></label></li>
                      <li><label for=""><input type="checkbox" checked>경계<strong>3</strong></label></li>
                      <li><label for=""><input type="checkbox" checked>심각<strong>4</strong></label></li>
                    </ul>
                    <b class="unit">신적설</b>
                    <select name="" id=""><option value="">시간</option></select>
                  </div>
                </header>
                <ul class="iot_lst">
                  <li>
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎝
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎝
                    </div>
                  </li>
                </ul>
              </section>
              <section class="AWS">
                <header class="tit">
                  <h1>지자체 AWS 관측 현황</h1>
                  <div class="tool">
                    전체<strong>25</strong>
                  </div>
                </header>
                <ul class="iot_lst">
                  <li>
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                  <li class="error">
                    <strong>수도 2우량</strong>
                    <div>
                      <span class="data">12.3</span>㎜
                    </div>
                  </li>
                </ul>
              </section>
            </section>
            <section id="tab02" class="tab_cont">
              <div class="tbl_wrap">
                <table class="tbl_default">
                  <thead>
                    <tr>
                      <th scope="col" rowspan="2">지역명</th>
                      <th scope="col" rowspan="2">장비명</th>
                      <th scope="col" colspan="4">전원</th>
                      <th scope="col" colspan="3">배터리</th>
                      <th scope="col" rowspan="2">로거</th>
                      <th scope="col" rowspan="2">도어</th>
                      <th scope="col" rowspan="2">센서</th>
                      <th scope="col" colspan="2">메인엠프</th>
                      <th scope="col" rowspan="2">볼륨</th>
                      <th scope="col" rowspan="2">스피커</th>
                      <th scope="col" rowspan="2">최종로깅시각</th>
                    </tr>
                    <tr>
                      <th scope="col">상전 (AC)</th>
                      <th scope="col">태양전지 (DC)</th>
                      <th scope="col">전압 (V)</th>
                      <th scope="col">충전전류 (A)</th>
                      <th scope="col">전압(V) (18V 이상)</th>
                      <th scope="col">소비전류1 (A)</th>
                      <th scope="col">소비전류2 (A)</th>
                      <th scope="col">상태</th>
                      <th scope="col">전원</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>00동</td>
                      <td>00교</td>
                      <td>O</td>
                      <td>O</td>
                      <td>39.20</td>
                      <td>0.20</td>
                      <td>27.20</td>
                      <td>0.15</td>
                      <td>0.00</td>
                      <td>정상</td>
                      <td>닫힘</td>
                      <td>정상</td>
                      <td>정상</td>
                      <td>정상</td>
                      <td>58</td>
                      <td>HDLC</td>
                      <td>2024-09-05 12:00:00</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>

          </div>
        </div>
        <aside class="flex_vertical">
          <article class="forecast">
            <h1>경상북도 김천시 (15시 기준)</h1>
            <section class="today_weather">
              <div class="weather">
                <i class="weather1">맑음
                  <strong>23℃</strong>
                </i>
              </div>
              <dl class="dl_list">
                <dt>풍   향</dt><dd>남동</dd>
                <dt>풍   속</dt><dd>1㎧</dd>
                <dt>강수량</dt><dd>10㎜</dd>
              </dl>              
            </section>
            <section class="weathers">
              <h2>기온</h2>
              <div id="tempChart" class="chart_wrap"></div>
              <ul>
                <li data-hour="15"><i class="weather1" title="맑음"></i></li>
                <li data-hour="16"><i class="weather2" title="맑음(밤)"></i></li>
                <li data-hour="17"><i class="weather3" title="구름 조금"></i></li>
                <li data-hour="18"><i class="weather4" title="구름 조금(밤)"></i></li>
                <li data-hour="19"><i class="weather5" title="구름 많음"></i></li>
                <li data-hour="20"><i class="weather6" title="구름 많음(밤)"></i></li>
              </ul>
            </section>
            <section class="precipitation">
              <h2>강수</h2>
              <ul>
                <li data-hour="15"><i style="--val:0;"></i>-</li>
                <li data-hour="16"><i style="--val:0;"></i>-</li>
                <li data-hour="17"><i style="--val:20;"></i>20</li>
                <li data-hour="18"><i style="--val:70;"></i>70</li>
                <li data-hour="19"><i style="--val:80;"></i>80</li>
                <li data-hour="20"><i style="--val:100;"></i>100</li>              
              </ul>
            </section>
            <section class="humidity">
              <h2>습도</h2>
              <ul>
                <li data-hour="15">-<i style="--val:0;"></i></li>
                <li data-hour="16">-<i style="--val:0;"></i></li>
                <li data-hour="17">20<i style="--val:20;"></i></li>
                <li data-hour="18">70<i style="--val:70;"></i></li>
                <li data-hour="19">80<i style="--val:80;"></i></li>
                <li data-hour="20">100<i style="--val:100;"></i></li>
              </ul>
            </section>
            <section class="winds">
              <h2>바람</h2>
              <ul>
                <li data-hour="15"><i class="wind1" title="북서풍"></i>북서풍</li>
                <li data-hour="16"><i class="wind2" title="북풍"></i>북풍</li>
                <li data-hour="17"><i class="wind3" title="북동풍"></i>북동풍</li>
                <li data-hour="18"><i class="wind4" title="동풍"></i>동풍</li>
                <li data-hour="19"><i class="wind5" title="남동풍"></i>남동풍</li>
                <li data-hour="20"><i class="wind6" title="남풍"></i>남풍</li>
              </ul>
              <div id="windChart" class="chart_wrap"></div>
            </section>
          </article>
          <section class="seismicMeter">
            <header class="tit">
              <h1>지진 및 진동감지 현황</h1>
            </header>
            <ul>
              <li>
                <strong>지진</strong>
                <dl class="dl_list">
                  <dt>발생시각</dt>
                  <dd>2024-07-10 10:10:10</dd>
                  <dt>이벤트명</dt>
                  <dd>(규모2.5) 경북 00시 00km 지역</dd>
                  <dt>최대가속도</dt>
                  <dd>20.5 gal (AA_AAG)</dd>
                  <dt>예상진도</dt>
                  <dd>Ⅲ</dd>
                </dl>
              </li>
              <li>
                <strong>지진</strong>
                <dl class="dl_list">
                  <dt>발생시각</dt>
                  <dd>2024-07-10 10:10:10</dd>
                  <dt>이벤트명</dt>
                  <dd>(규모2.5) 경북 00시 00km 지역</dd>
                  <dt>최대가속도</dt>
                  <dd>20.5 gal (AA_AAG)</dd>
                  <dt>예상진도</dt>
                  <dd>Ⅲ</dd>
                </dl>
              </li>
            </ul>
          </section>
        </aside>
      </div>
    </main>
  </div>  
</div>
@@include('../../inc/script.html')
<script>
  $('.risk_filter').on('change','input',function(){
    if($(this).hasClass('all')){
      let cur = $(this).prop('checked');
      if(cur) $(this).parents('.risk_filter').find('input').prop('checked',true);
    }    
  })
  
  var tempChart = echarts.init(document.getElementById('tempChart'));
  var tempChartOpt = {
  grid:{
    show:false,
    left:0,
    right:0,
    bottom:5,
    top:20    
  },
  xAxis: {
    type: 'category',
    show: false,
    data: ['15시', '16시', '17시', '18시', '19시', '20시']
  },
  yAxis: {
    type: 'value',
    show:false,
    min: function (value) { 
      return value.min;
    }
  },
  color:['#E3E7EC'],  
  series: [{
    name: '기온',
    type: 'line',
    label: {
      show: true,
      position: 'top',
      offset: [0, 8],
      formatter: function (param) {
        return Math.round(param.value) + '℃';
      },
      fontSize: 11,
    },      
    data: [10, 10, 11, 13, 15, 17].map(Math.round),
  } ],
  animation: false
};
var windChart = echarts.init(document.getElementById('windChart'));
var windChartOpt = {
  grid:{
    show:false,
    left:0,
    right:0,
    bottom:5,
    top:20    
  },
  xAxis: {
    type: 'category',
    show: false,
    data: ['15시', '16시', '17시', '18시', '19시', '20시']
  },
  yAxis: {
    type: 'value',
    show:false,
    min: function (value) { 
      return value.min - 1;
    }
  },
  color:['#C7E1F2'],  
  series: [{
    name: '풍속',
    type: 'bar',
    label: {
      show: true,
      position: 'top',
      offset: [0, 8],
      formatter: function (param) {
        return Math.round(param.value) + '㎧';
      },
      fontSize: 11,
    },      
    data: [1.1, 1.5, 1.3, 1.2, 1.6, 1.9].map(Math.round),
    barWidth: '98%'
  } ],
  animation: false
};
tempChartOpt && tempChart.setOption(tempChartOpt);
windChartOpt && windChart.setOption(windChartOpt);
window.addEventListener('load', function() {
  tempChart.resize();
  windChart.resize();
});
</script>
</body>
</html>
